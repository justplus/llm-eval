# 大模型评测平台

本项目旨在提供一个大模型评测平台，用户可以制定自己的测试集，使用该测试集对大模型能力进行测评，以选择最佳的大模型。

## 第一期迭代功能

- **模型管理**:
    - 支持 OpenAI 兼容模型 (系统内置) 和用户自建模型。
    - 用户可对自建模型进行增删改和可用性验证。
    - 模型列表页面展示所有模型，并提供"开始对话"入口。
- **对话页面**:
    - 支持单模型对话和多模型（最多3个）对比。
    - 可为每个模型配置独立的 System Prompt 和 Temperature。
    - 标准 Chatbox 对话界面。
    - 对话历史记录、加载和删除。
    - **新增功能**：多模型同时对话，支持实时并行流式响应。
- **用户登录**:
    - 账号密码登录。
    - 用户可修改密码。
    - 用户数据隔离。

## 多模型对话功能

平台支持与多个模型同时对话，主要特点包括：

- **同时选择多个模型**：用户可以在侧边栏配置区域添加最多3个不同的模型。
- **独立模型配置**：每个模型可以设置不同的System Prompt和Temperature参数。
- **并行响应处理**：向所有选定的模型并行发送相同的用户消息。
- **实时流式显示**：每个模型的响应都实时流式显示在界面上，互不干扰。
- **响应对比**：同时看到多个模型对同一问题的不同回答，方便比较和评估。
- **错误隔离**：单个模型的错误不会影响其他模型的响应。
- **响应持久化**：所有模型的响应都会被记录到数据库中，供后续查看和分析。

### 使用方法

1. 在对话页面右侧的"模型配置"面板中，可以添加多个模型（使用"添加模型"按钮）。
2. 为每个模型选择具体的AI模型类型并根据需要调整参数。
3. 在消息输入框中输入您的问题，点击"发送"。
4. 所有选定的模型将同时接收到您的问题并开始生成回答。
5. 每个模型的回答会实时显示在对话界面中，并标有相应的模型名称标签。

## 技术栈

-   **前端**: Flask服务端渲染, DaisyUI, Tailwind CSS
-   **后端**: Python Flask
-   **数据库**: MySQL

## 目录结构

```
project_root/
├── app/ # Flask应用主目录
│   ├── models/ # 数据库模型
│   ├── routes/ # 路由和视图函数
│   │   ├── auth_routes.py # 认证相关路由
│   │   ├── chat_routes.py # 聊天相关路由
│   │   ├── main_routes.py # 主页和基础路由
│   │   └── model_routes.py # 模型管理路由
│   ├── services/ # 业务逻辑服务
│   │   ├── chat_service.py # 聊天相关服务
│   │   └── model_service.py # 模型管理服务
│   ├── static/ # 静态资源
│   │   ├── css/ # 样式表
│   │   ├── js/ # JavaScript文件
│   │   └── images/ # 图片资源
│   ├── templates/ # HTML模板
│   │   ├── auth/ # 认证相关模板
│   │   ├── chat/ # 聊天界面模板
│   │   ├── model/ # 模型管理模板
│   │   └── base.html # 基础模板
│   └── __init__.py # Flask应用初始化
├── config.py # 配置文件
├── app.py # 应用入口点
└── README.md
```

## 安全性

- 本项目已移除 CSRF 保护，因为其部署在内部网络环境。

## 更新日志

- 2024-07-28: 修复了token过期后刷新页面提示403错误时，未自动跳转到登录页面的问题。
